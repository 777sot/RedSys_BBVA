{"name":"Sermepa","body":"### Sermepa\r\nClase para usar la pasarela de pago de Sermepa (lacaixa, sabadell, etc)\r\nPara descargar la librería es tan sencillo como hacer esto:\r\n\r\n```\r\n$ cd tu_ruta_descargar\r\n$ git clone git://github.com/ssheduardo/sermepa.git\r\n```\r\n\r\nYa puedes empezar a usar la clase.\r\n\r\n### Como usarlo\r\nEjemplo Primero asignamos los parámetros\r\n\r\n```\r\ntry{\r\n    $pasarela = new Sermepa();\r\n    $pasarela->importe(10.50);\r\n    $pasarela->pedido(date('ymdHis'));  //generamos el número de recibo usando date por ejemplo\r\n    $pasarela->clave('xxxxxxx');    //clave asignada por el banco.\r\n    $pasarela->codigofuc('xxxxxxx');\r\n    $pasarela->producto_descripcion('Demo');\r\n    $pasarela->titular('Usuario');\r\n    $pasarela->nombre_comercio('Ejemplo');\r\n    //Si el comercio tiene notificación \"on-line\". URL del comercio que recibirá un post con los datos de la transacción .\r\n    $pasarela->url_notificacion('http://www.example.com/notificacion.php'); \r\n    $pasarela->url_ok('http://www.example.com/ok.php'); // Si le das aceptar finalizada la compra desde la pasarela de pagos\r\n    $pasarela->url_ko('http://www.example.com/ko.php'); // Si le das cancelar desde la pasarela de pagos\r\n    $pasarela->firma();\r\n}\r\ncatch(Exception $e){\r\n    echo $e->getMessage();   \r\n}\r\n```\r\n\r\nOpcional\r\n\r\n```\r\n$pasarela->set_nameform('nombre_formulario');\r\n```\r\n\r\nGeneramos el formulario\r\n\r\n```\r\n$formulario = $pasarela->create_form();\r\n```\r\n\r\nCon esto generamos el form para la comunicación con la pasarela de pagos. Solo queda agregar un input submit personalizado o por medio de javascript realizar el submit.\r\n\r\nNota: Por defecto se conecta por la pasarela de pruebas para cambiar a un entorno real usar el método: set_entorno('real')\r\n\r\n### Más información\r\nhttps://github.com/ssheduardo/sermepa","tagline":"Clase para utilizar la pasarela de pagos sermepa","google":"UA-30551403-1","note":"Don't delete this file! It's used internally to help with page regeneration."}